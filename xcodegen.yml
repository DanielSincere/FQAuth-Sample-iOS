name: App
schemes:
  App:
    build:
      targets:
        App: all
        AppTests: [run, tests]
        AppUITests: [run, test]
    test:
      targets:
        - AppTests
packages:
  KeychainAccess:
    url: https://github.com/kishikawakatsumi/KeychainAccess
    from: 4.2.2
  JWTKit:
    url: https://github.com/vapor/jwt-kit.git
    from: 4.0.0
targets:
  App:
    type: application
    platform: iOS
    deploymentTarget: "16.0"
    sources: [App]
    dependencies:
      - package: KeychainAccess
      - package: JWTKit
    settings:
      base:
        PRODUCT_BUNDLE_IDENTIFIER: ${FQAUTH_BUNDLE_ID}
        ASSETCATALOG_COMPILER_GLOBAL_ACCENT_COLOR_NAME: AccentColor
        CODE_SIGN_STYLE: Automatic
        CURRENT_PROJECT_VERSION: 1
        MARKETING_VERSION: "1.0.0"
        TARGETED_DEVICE_FAMILY: 1
        DEVELOPMENT_TEAM: ${FQAUTH_DEVELOPMENT_TEAM}
        GENERATE_INFOPLIST_FILE: YES
        INFOPLIST_KEY_UIApplicationSupportsIndirectInputEvents: YES
        INFOPLIST_KEY_UISupportedInterfaceOrientations_iPad: "UIInterfaceOrientationPortrait UIInterfaceOrientationPortraitUpsideDown UIInterfaceOrientationLandscapeLeft UIInterfaceOrientationLandscapeRight"
        INFOPLIST_KEY_UISupportedInterfaceOrientations_iPhone: "UIInterfaceOrientationPortrait"
    entitlements:
      path: App/App.entitlements
      properties:
        com.apple.developer.applesignin: [Default]
    info:
      path: App/Info.plist
      properties:
        CFBundleDisplayName: FQAuth Example
        UILaunchScreen: {}
        UIApplicationSceneManifest:
          UIApplicationSupportsMultipleScenes: false
        ITSAppUsesNonExemptEncryption: false
  AppTests:
    type: bundle.unit-test
    platform: iOS
    deploymentTarget: "16.0"
    sources: [AppTests]
    dependencies:
      - target: App
      - package: JWTKit
    info:
      path: AppTests/Info.plist
      properties:
        CFBundlePackageType: $(PRODUCT_BUNDLE_PACKAGE_TYPE)
    settings:
      TEST_TARGET_NAME: App
      CODE_SIGN_STYLE: Automatic
      CURRENT_PROJECT_VERSION: 1
      MARKETING_VERSION: "1.0"
      TARGETED_DEVICE_FAMILY: 1
      DEVELOPMENT_TEAM: ${FQAUTH_DEVELOPMENT_TEAM}
      GENERATE_INFOPLIST_FILE: YES
      PRODUCT_BUNDLE_IDENTIFIER: ${FQAUTH_BUNDLE_ID}.UnitTests
  AppUITests:
    type: bundle.ui-testing
    platform: iOS
    deploymentTarget: "16.0"
    sources: [AppUITests]
    info:
      path: AppUITests/Info.plist
      properties:
        CFBundlePackageType: $(PRODUCT_BUNDLE_PACKAGE_TYPE)
    settings:
      TEST_TARGET_NAME: App
      CODE_SIGN_STYLE: Automatic
      CURRENT_PROJECT_VERSION: 1
      MARKETING_VERSION: "1.0"
      TARGETED_DEVICE_FAMILY: 1
      DEVELOPMENT_TEAM: ${FQAUTH_DEVELOPMENT_TEAM}
      GENERATE_INFOPLIST_FILE: YES
      PRODUCT_BUNDLE_IDENTIFIER: ${FQAUTH_BUNDLE_ID}.UITests
